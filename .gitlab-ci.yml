# cache:
#   key: "$CI_BUILD_REF_NAME"
#   untracked: true
#   paths:
#     - build/

stages:
  # - build
  - test

# build:
#   stage: build
#   script:
#     - ./configure_mfix
#     - make
#   artifacts:
#     paths:
#     - mfix*
#   only:
#     - branches

test_dem01:
  stage: test
  script:
    - cd tests/DEM01
    - ../../configure_mfix
    - make test
  only:
    - branches

test_dem02:
  stage: test
  script:
    - cd tests/DEM02
    - ../../configure_mfix
    - make test
  only:
    - branches

test_dem03:
  stage: test
  script:
    - cd tests/DEM03
    - ../../configure_mfix
    - make test
  only:
    - branches

test_dem04:
  stage: test
  script:
    - cd tests/DEM04
    - ../../configure_mfix
    - make test
  only:
    - branches

test_dem05:
  stage: test
  script:
    - cd tests/DEM05
    - ../../configure_mfix
    - make test
  only:
    - branches

test_dem06:
  stage: test
  script:
    - cd tests/DEM06
    - ../../configure_mfix
    - make test
  only:
    - branches
